#!/bin/zsh

# zsh prompt helper.
# Invoke as:
# $0 <entry in pcc array> <foreground bold?> <foreground color>
#    [<background bold?> <background color>]
# example:
# $0 1 no green

want_bold () {
	text=$1;

	[ -z "$text" ] && return 1;
	for i in no off false regular normal non-bold;
	do
		[ "$text" = "$i" ] && return 1;
	done
	return 0;
}

boldness () {
	want_bold $1 || printf "no_"
}

number=$1
ffont=$2
fcolor=$3
bfont=$4
bcolor=$5

printf "pcc[%s]=" $number;
printf '%%{$fg_';
boldness $ffont
printf 'bold[%s]' $fcolor;
if [ -n "$bcolor" ];
then
	printf '$bg_'
	boldness $bfont
	printf '%sbold[%s]' $bcolor;
fi
printf '%%}';
printf "\n";
